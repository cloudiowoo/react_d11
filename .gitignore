# ========================
# Drupal 11 + React.js 项目专用 .gitignore
# 基于项目实际文件结构优化
# ========================

# =============
# Drupal 核心相关
# =============

# Composer 依赖
/vendor/
composer.lock

# Drupal core（如果使用 Composer 管理）
web/core/

# Drupal 贡献模块（通过 Composer 安装）
web/modules/contrib/

# Drupal 配置文件（可能包含敏感信息）
web/sites/*/settings*.php
web/sites/*/services*.yml
web/sites/default/settings.local.php

# 用户上传的内容
/web/sites/*/files
/web/sites/*/private

# 多站点测试环境
web/sites/simpletest/

# Drupal 缓存和临时文件
web/sites/*/files/php/
web/sites/*/files/cache/
web/sites/*/files/css/
web/sites/*/files/js/
web/sites/*/files/styles/
/web/sites/*/files/translations

# ===============
# React/Vite 构建产物
# ===============

# Vite 构建输出目录
web/themes/custom/homtime/js/assets/
web/themes/custom/homtime/js/.vite/
web/themes/custom/homtime/react-src/dist/

# 构建的 JavaScript 文件（含哈希）
web/themes/custom/homtime/js/homtime-app-*.js
web/themes/custom/homtime/js/index.html

# 构建的 CSS 文件
web/themes/custom/homtime/css/dist/
web/themes/custom/homtime/css/main.css
web/themes/custom/homtime/css/main.css.map

# Vite 本地缓存
.vite/
web/themes/custom/*/.vite/

# ===============
# Node.js 相关
# ===============

# Node.js 依赖
node_modules/
web/themes/custom/*/react-src/node_modules/
web/themes/custom/*/node_modules/

# npm/yarn 锁定文件（保留 package-lock.json 用于版本控制）
# package-lock.json  # 可选：如果团队使用 yarn，可以取消注释
yarn.lock

# npm 调试日志
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# ===============
# 开发环境相关
# ===============

# 环境变量文件
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# 开发工具临时文件
web/themes/custom/*/react-src/*.json
!web/themes/custom/*/react-src/package.json
!web/themes/custom/*/react-src/nodemon*.json

# ESLint 缓存
.eslintcache

# Stylelint 缓存
.stylelintcache

# TypeScript 构建信息
*.tsbuildinfo

# ===============
# 系统和IDE文件
# ===============

# macOS
.DS_Store
.AppleDouble
.LSOverride
Icon\r\r

# Windows
Thumbs.db
Desktop.ini

# Linux
*~
.fuse_hidden*
.directory
.Trash-*

# VSCode
.vscode/
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# IntelliJ IDEA / WebStorm
.idea/
*.iml
*.ipr
*.iws

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim/Emacs
*.swp
*.swo
.netrwhist
*~
\#*\#
.\#*

# ===============
# 日志和临时文件
# ===============

# 各种日志文件
*.log
logs/
*.pid
*.seed
*.pid.lock

# 运行时数据
pids/
*.pid
*.seed
*.pid.lock

# 备份和临时文件
*.bak
*.backup
*.tmp
*.temp

# 数据库备份
*.sql
*.sql.gz
*.dump

# ===============
# Docker 相关（如果使用）
# ===============

# Docker
.docker/
docker-compose.override.yml
.dockerignore

# ===============
# 测试和覆盖率
# ===============

# Jest 测试覆盖率
coverage/
.nyc_output/

# PHPUnit
.phpunit.result.cache
/phpunit.xml

# ===============
# 其他开发工具
# ===============

# Optional npm cache directory
.npm

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# ===============
# 重要：确保保留的文件
# ===============

# 确保自定义主题不被忽略
!web/themes/custom/

# 确保重要配置文件不被忽略
!web/themes/custom/*/homtime.info.yml
!web/themes/custom/*/homtime.libraries.yml
!web/themes/custom/*/homtime.theme
!web/themes/custom/*/logo.svg
!web/themes/custom/*/screenshot.png

# 确保React源码和配置不被忽略
!web/themes/custom/*/react-src/src/
!web/themes/custom/*/react-src/package.json
!web/themes/custom/*/react-src/vite.config.js
!web/themes/custom/*/react-src/README*.md

# 确保模板文件不被忽略
!web/themes/custom/*/templates/

# ===============
# 项目特定
# ===============

# 开发脚本产生的临时文件
web/themes/custom/*/auto-compile.sh.log
web/themes/custom/*/deploy.sh.log

# 字体文件（构建时生成的大量字体文件）
web/themes/custom/*/js/assets/*.woff
web/themes/custom/*/js/assets/*.woff2
web/themes/custom/*/js/assets/*.ttf
web/themes/custom/*/js/assets/*.eot

# 项目临时文件
*.local
.temp/
temp/

# API 测试临时文件
*_product.json
test_*.json

# ===============
# 安全相关
# ===============

# 敏感配置文件
*.key
*.pem
*.p12
config/local/
config/staging/

# 密钥和证书
private/
secrets/

# 其他
/volumes
/volumes/*
/.cursor
/.cursor/*
